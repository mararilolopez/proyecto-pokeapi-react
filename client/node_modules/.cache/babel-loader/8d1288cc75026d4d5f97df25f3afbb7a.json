{"ast":null,"code":"var _jsxFileName = \"/Users/juanrosales/Desktop/Proyecto-Navidad-React/pocratech/client/src/components/PokeCard/PokeCard.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport PokeHijo from \"./PokeHijo\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\nimport \"./PokeCard.scss\"; //CARD DE MATERIAL UI\n\nimport Box from \"@mui/material/Box\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport CardMedia from \"@mui/material/CardMedia\"; //Librería sweet alert para mostrar una \"alerta al agregar un pokemon\"\n\nimport Swal from \"sweetalert2\"; //Este componente es llamado desde App.js, por tanto, en App.js se mostrará todo lo que contenga este componente en su return. Además, en este componente se llama al componente PokeHijo por lo que todo lo que contenga dicho componente también aparecerá en App.js pasando de hijo a padre.\n//En App.js se muestran los botones Descubre pokemons, cerrar sesión, este componente (pokecard) y la frase del token (bien o mal). En este componente, he llamado a las props de pokemon (es decir, toda la información de los pokemons) que las recojo entre paréntesis y en la constante pokemon. Después, me he traido la función newPokemon para que el usuario logueado añada a su lista (base da datos) sus pokemons favoritos pulsando el botón agregar. Al traerme esa función he tenido que importar previamente jwtDecode y el token (estado token) por lo que he tenido que declarar dentro de la función, además de las props, el estado token y setToken. A su vez, el estado token está asociado al setToken (el otro estado) que para que no esté vacío debo crear el useEffects, la función getTokenLocalStorage y la constante TOKEN, respectivamente. Es decir, tengo que ir trayéndome aquí todos los datos que voy a ir necesitando.\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PokeCard(props) {\n  _s();\n\n  const {\n    pokemon\n  } = props;\n  const [token, setToken] = useState(null);\n  const TOKEN = \"token\"; //Creo una variable llamada Img que trae de la api de Pokemon la imagen de cada pokemon (la imagen está dentro de los datos de pokemon/sprites/front_default)\n\n  const Img = pokemon.sprites.front_default; //UseEffect para conseguir el token y setearlo del LocalStorage\n\n  useEffect(() => {\n    getTokenLocalStorage();\n  });\n\n  const getTokenLocalStorage = () => {\n    setToken(localStorage.getItem(TOKEN));\n  }; //Guardar mis pokemons favoritos (Función vinculada al botón agrégame a tu lista). Es la ruta post que vincula a cada pokemon con su usuario.\n\n\n  const newPokemon = pokemonID => {\n    const decodeUser = jwtDecode(token);\n    const userID = decodeUser.user.id;\n    axios.post(`http://localhost:4000/pokemon/${userID}/${pokemonID}`, {}).then(response => {\n      console.log(response);\n    }); //Función de alerta al agregar un pokemon a la lista que se ejecuta al pinchar el botón de agregar pokemon. El usuario ve en pantalla un mensaje que le informa que ha añadido ese pokemon a la lista\n\n    Swal.fire({\n      icon: \"success\",\n      title: \"Pokemon añadido a tu lista!!\",\n      showConfirmButton: false,\n      timer: 1500\n    });\n  }; //En pantalla se muestra la card de material ui que he elegido donde indico en cada punto qué información quiero mostrar como el nombre del pokemon, el peso o las habilidades. Como los pokemons pueden tener más de una habilidad, he hecho una función (bucle) para hacer un map de todas las habilidades bajo el nombre data imprimiéndose en pantalla data.ability.name, es decir, el nombre de cada una de las habilidades\n  //Al final del return he llamado a Pokehijo que incluye una frase que anima al usuario a agregar cada pokemon a su lista\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          display: \"flex\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: \"flex\",\n            flexDirection: \"column\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              flex: \"1 0 auto\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              component: \"div\",\n              variant: \"h5\",\n              children: pokemon.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              color: \"text.secondary\",\n              component: \"div\",\n              children: [\"Mi peso es: \", pokemon.weight]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"habilidades\",\n              children: \"Estas son mis habilidades:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), pokemon.abilities.map(function (data) {\n              return /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                color: \"text.secondary\",\n                component: \"div\",\n                children: data.ability.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: \"flex\",\n              alignItems: \"center\",\n              pl: 1,\n              pb: 1\n            },\n            children: localStorage.getItem(TOKEN) ? /*#__PURE__*/_jsxDEV(Button, {\n              className: \"boton-card\",\n              size: \"small\",\n              onClick: () => newPokemon(pokemon.id),\n              children: \"Agr\\xE9game a tu pokedex\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Reg\\xEDstrate para cazarme!!!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardMedia, {\n          component: \"img\",\n          sx: {\n            width: 151\n          },\n          image: `${Img}`,\n          alt: \"Live from space album cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PokeHijo, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PokeCard, \"SSLzquenZQzOMzU62DrezfOo2pU=\");\n\n_c = PokeCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"PokeCard\");","map":{"version":3,"sources":["/Users/juanrosales/Desktop/Proyecto-Navidad-React/pocratech/client/src/components/PokeCard/PokeCard.js"],"names":["React","PokeHijo","useEffect","useState","axios","jwtDecode","Box","Card","CardContent","Button","Typography","CardMedia","Swal","PokeCard","props","pokemon","token","setToken","TOKEN","Img","sprites","front_default","getTokenLocalStorage","localStorage","getItem","newPokemon","pokemonID","decodeUser","userID","user","id","post","then","response","console","log","fire","icon","title","showConfirmButton","timer","display","flexDirection","flex","name","weight","abilities","map","data","ability","alignItems","pl","pb","width"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PokeHijo from \"./PokeHijo\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\nimport \"./PokeCard.scss\";\n\n//CARD DE MATERIAL UI\nimport Box from \"@mui/material/Box\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport CardMedia from \"@mui/material/CardMedia\";\n\n//Librería sweet alert para mostrar una \"alerta al agregar un pokemon\"\nimport Swal from \"sweetalert2\";\n\n//Este componente es llamado desde App.js, por tanto, en App.js se mostrará todo lo que contenga este componente en su return. Además, en este componente se llama al componente PokeHijo por lo que todo lo que contenga dicho componente también aparecerá en App.js pasando de hijo a padre.\n//En App.js se muestran los botones Descubre pokemons, cerrar sesión, este componente (pokecard) y la frase del token (bien o mal). En este componente, he llamado a las props de pokemon (es decir, toda la información de los pokemons) que las recojo entre paréntesis y en la constante pokemon. Después, me he traido la función newPokemon para que el usuario logueado añada a su lista (base da datos) sus pokemons favoritos pulsando el botón agregar. Al traerme esa función he tenido que importar previamente jwtDecode y el token (estado token) por lo que he tenido que declarar dentro de la función, además de las props, el estado token y setToken. A su vez, el estado token está asociado al setToken (el otro estado) que para que no esté vacío debo crear el useEffects, la función getTokenLocalStorage y la constante TOKEN, respectivamente. Es decir, tengo que ir trayéndome aquí todos los datos que voy a ir necesitando.\nexport default function PokeCard(props) {\n  const { pokemon } = props;\n  const [token, setToken] = useState(null);\n  const TOKEN = \"token\";\n\n  //Creo una variable llamada Img que trae de la api de Pokemon la imagen de cada pokemon (la imagen está dentro de los datos de pokemon/sprites/front_default)\n  const Img = pokemon.sprites.front_default;\n\n  //UseEffect para conseguir el token y setearlo del LocalStorage\n  useEffect(() => {\n    getTokenLocalStorage();\n  });\n\n  const getTokenLocalStorage = () => {\n    setToken(localStorage.getItem(TOKEN));\n  };\n  //Guardar mis pokemons favoritos (Función vinculada al botón agrégame a tu lista). Es la ruta post que vincula a cada pokemon con su usuario.\n  const newPokemon = (pokemonID) => {\n    const decodeUser = jwtDecode(token);\n    const userID = decodeUser.user.id;\n    axios\n      .post(`http://localhost:4000/pokemon/${userID}/${pokemonID}`, {})\n      .then((response) => {\n        console.log(response);\n      });\n\n    //Función de alerta al agregar un pokemon a la lista que se ejecuta al pinchar el botón de agregar pokemon. El usuario ve en pantalla un mensaje que le informa que ha añadido ese pokemon a la lista\n    Swal.fire({\n      icon: \"success\",\n      title: \"Pokemon añadido a tu lista!!\",\n      showConfirmButton: false,\n      timer: 1500,\n    });\n  };\n\n  //En pantalla se muestra la card de material ui que he elegido donde indico en cada punto qué información quiero mostrar como el nombre del pokemon, el peso o las habilidades. Como los pokemons pueden tener más de una habilidad, he hecho una función (bucle) para hacer un map de todas las habilidades bajo el nombre data imprimiéndose en pantalla data.ability.name, es decir, el nombre de cada una de las habilidades\n  //Al final del return he llamado a Pokehijo que incluye una frase que anima al usuario a agregar cada pokemon a su lista\n  return (\n    <div className=\"card\">\n      <React.Fragment>\n        <Card sx={{ display: \"flex\" }}>\n          <Box sx={{ display: \"flex\", flexDirection: \"column\" }}>\n            <CardContent sx={{ flex: \"1 0 auto\" }}>\n              <Typography component=\"div\" variant=\"h5\">\n                {pokemon.name}\n              </Typography>\n              <Typography\n                variant=\"subtitle1\"\n                color=\"text.secondary\"\n                component=\"div\"\n              >\n                Mi peso es: {pokemon.weight}\n              </Typography>\n              <p className=\"habilidades\">Estas son mis habilidades:</p>\n              {pokemon.abilities.map(function (data) {\n                return (\n                  <Typography\n                    variant=\"subtitle1\"\n                    color=\"text.secondary\"\n                    component=\"div\"\n                  >\n                    {data.ability.name}\n                  </Typography>\n                );\n              })}\n            </CardContent>\n            <Box sx={{ display: \"flex\", alignItems: \"center\", pl: 1, pb: 1 }}>\n              {localStorage.getItem(TOKEN) ? (\n                <Button\n                  className=\"boton-card\"\n                  size=\"small\"\n                  onClick={() => newPokemon(pokemon.id)}\n                >\n                  Agrégame a tu pokedex\n                </Button>\n              ) : (\n                <p>Regístrate para cazarme!!!</p>\n              )}\n            </Box>\n          </Box>\n          <CardMedia\n            component=\"img\"\n            sx={{ width: 151 }}\n            image={`${Img}`}\n            alt=\"Live from space album cover\"\n          />\n        </Card>\n      </React.Fragment>\n      <PokeHijo />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}